---
title: ES2017(2)
date: 2018-07-27
tag: 
  - javascript
  - ecma
categories:
  - 前端
---
![](/imgs/javascript/theme/ecma.png)

# ES2017（2）

## String.prototype.padStart()

**str.padStart(len, padStr)**

*len:* 当前字符串需要被填充到的目标长度，当len小于字符串长度时，返回当前字符串
*padStr:* 填充字符串，如果字符串过长则切割字符串，过短则重复字符串，不传怎为''

```javascript
let a = 'abc';
a.padStart(4); // ' abc'
a.padStart(4, 'dutao'); // 'dabc'
a.padStart(10, 'dutao'); // 'dutaoduabc'
a.padStart(1); // 'abc'
```

### polyfill

```javascript
if (!String.prototype.padStart) {
  String.prototype.padStart = function (len, str) {
    var strLen = this.length;
    if (strLen > len) {
      return String(this);
    }
    var startStr = '';
    var diffLen = len - strLen;
    if (str === undefined) {
      str = ' ';
    }
    if (typeof str !== 'string' && str !== undefined) {
      str = String(str);
    }
    var strLen = str.length;
    var fillTimes = parseInt(diffLen / strLen);
    var remainder = diffLen % strLen;
    for(var i = 0; i < fillTimes; i++) {
      startStr = startStr.concat(str);
    }
    startStr = startStr.concat(str.substr(0, remainder));
    return startStr.concat(String(this));
  }
}
```

## String.prototype.padEnd()

**str.padEnd(len, padStr)**

*len:* 当前字符串需要被填充到的目标长度，当len小于字符串长度时，返回当前字符串
*padStr:* 填充字符串，如果字符串过长则切割字符串，过短则重复字符串，不传怎为''

```javascript
let a = 'abc';
a.padEnd(4); // 'abc '
a.padEnd(4, 'dutao'); // 'abcd'
a.padEnd(10, 'dutao'); // 'abcdutaodu'
a.padEnd(1); // 'abc'
```

### polyfill

```javascript
if (!String.prototype.padEnd) {
  String.prototype.padEnd = function (len, str) {
    var strLen = this.length;
    if (strLen > len) {
      return String(this);
    }
    var startStr = '';
    var diffLen = len - strLen;
    if (str === undefined) {
      str = ' ';
    }
    if (typeof str !== 'string' && str !== undefined) {
      str = String(str);
    }
    var strLen = str.length;
    var fillTimes = parseInt(diffLen / strLen);
    var remainder = diffLen % strLen;
    for(var i = 0; i < fillTimes; i++) {
      startStr = startStr.concat(str);
    }
    startStr = startStr.concat(str.substr(0, remainder));
    return String(this).concat(startStr);
  }
}
```

